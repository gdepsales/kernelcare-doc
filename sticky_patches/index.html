<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Sticky Patches | Documentation</title>
    <meta name="description" content="Kernelcare documentation">
    <script src="https://js.hs-scripts.com/5408110.js"></script>
    
    <link rel="preload" href="/assets/css/0.styles.9514ccc3.css" as="style"><link rel="preload" href="/assets/js/app.009af3c2.js" as="script"><link rel="preload" href="/assets/js/21.5f94a383.js" as="script"><link rel="prefetch" href="/assets/js/10.24cf7065.js"><link rel="prefetch" href="/assets/js/11.d5faae8a.js"><link rel="prefetch" href="/assets/js/12.69be9677.js"><link rel="prefetch" href="/assets/js/13.54717a9b.js"><link rel="prefetch" href="/assets/js/14.6468cf6a.js"><link rel="prefetch" href="/assets/js/15.8905e35a.js"><link rel="prefetch" href="/assets/js/16.67abc2ff.js"><link rel="prefetch" href="/assets/js/17.bcd3c9b6.js"><link rel="prefetch" href="/assets/js/18.9763ca9b.js"><link rel="prefetch" href="/assets/js/19.0720da2f.js"><link rel="prefetch" href="/assets/js/20.8fe627b0.js"><link rel="prefetch" href="/assets/js/22.ae62e897.js"><link rel="prefetch" href="/assets/js/23.0df71961.js"><link rel="prefetch" href="/assets/js/24.eeb565fb.js"><link rel="prefetch" href="/assets/js/25.e5510d96.js"><link rel="prefetch" href="/assets/js/26.ecbe68a7.js"><link rel="prefetch" href="/assets/js/3.d7be1533.js"><link rel="prefetch" href="/assets/js/4.c0809d99.js"><link rel="prefetch" href="/assets/js/5.e3ede4c9.js"><link rel="prefetch" href="/assets/js/6.59dee7a8.js"><link rel="prefetch" href="/assets/js/7.ebb91d29.js"><link rel="prefetch" href="/assets/js/8.6ddf8038.js"><link rel="prefetch" href="/assets/js/9.3ac787c1.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.ddfd2311.js">
    <link rel="stylesheet" href="/assets/css/0.styles.9514ccc3.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.svg" alt="Documentation" class="logo"> <span class="site-name site-name--documentation can-hide">Documentation</span></a> <form id="search-form" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <div class="links" style="max-width:nullpx;"><a href="https://cloudlinux.com/kernelcare-free-trial5" target="_blank" class="btn">
      Try Free
    </a> <nav class="nav-links can-hide"></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><div class="sidebar-heading open"><span>Content</span> <!----></div> <ul class="sidebar-group-items"><li><a href="/installation/" class="sidebar-link">Installation of KernelCare</a></li><li><a href="/settings/" class="sidebar-link">Basic Management</a></li><li><a href="/command_line/" class="sidebar-link">Command Line Tools</a></li><li><a href="/how_to's/" class="sidebar-link">How-To's</a></li><li><a href="/config_options/" class="sidebar-link">Config Options</a></li><li><a href="/disabling_some_patches/" class="sidebar-link">Disabling Some Patches</a></li><li><a href="/delayed_feed/" class="sidebar-link">Delayed Feed</a></li><li><a href="/extra_patchset/" class="sidebar-link">Extra Patchset</a></li><li><a href="/sticky_patches/" class="active sidebar-link">Sticky Patches</a></li><li><a href="/nagios_plugin/" class="sidebar-link">Nagios Plugin</a></li><li><a href="/zabbix_template/" class="sidebar-link">Zabbix Template</a></li><li><a href="/upgrade/" class="sidebar-link">Upgrade</a></li><li><a href="/uninstall/" class="sidebar-link">Uninstall KernelCare</a></li><li><a href="/technology/" class="sidebar-link">Technology</a></li><li><a href="/AWS_deployment_guide/" class="sidebar-link">KernelCare on AWS â€“ Deployment User Guide</a></li><li><a href="/reseller_partner_ui/" class="sidebar-link">Reseller Partner UI</a></li><li><a href="/kernelcare_enterprise/" class="sidebar-link">KernelCare.ePortal</a></li><li><a href="/kcare-nexpose/" class="sidebar-link">Kcare-nexpose</a></li><li><a href="/kernelcare_whmcs_plugin/" class="sidebar-link">KernelCare WHMCS Plugin</a></li><li><a href="/proxy_settings/" class="sidebar-link">Firewall and Proxy Settings</a></li><li><a href="/eol_ubuntu_lts_kernels_support/" class="sidebar-link">EOL Ubuntu LTS kernels support</a></li></ul></div></li></ul> </div> <div class="page"> <div class="breadcrumb-wrapper page-breadcrumb" data-v-5e0e0acf><span class="breadcrumb-title" data-v-5e0e0acf>Documentation:</span> <a href="/sticky_patches/" class="breadcrumb router-link-exact-active router-link-active" data-v-5e0e0acf>
    Sticky Patches
  </a></div> <div class="page-nav-wrapper"><div class="page-nav"><a href="/extra_patchset/" class="nav-arrow left"></a> <a href="/nagios_plugin/" class="nav-arrow right"></a></div></div> <div class="content"><h1 id="sticky-patches"><a href="#sticky-patches" aria-hidden="true" class="header-anchor">#</a> Sticky Patches</h1> <div class="tip custom-block"><p class="custom-block-title">Note</p> <p>This functionality is not available for ePortal customers. If you are using ePortal, please use <a href="/kernelcare_enterprise/#feed-management">Feeds</a> instead.</p></div> <p>Sometimes you don't want to use the latest patches, but you'd like to control which patches are get installed instead. For example, you have tested the patch released on 25th of May 2018 and want to use that patch across all servers.</p> <p>You can do it by setting <code>STICKY_PATCH=250518</code> (ddmmyy format) in <code>/etc/sysconfig/kcare/kcare.conf</code>
This guarantees that when <code>kcarectl --update</code> or <code>kcarectl --auto-update</code> is called, you will get patches from that date and not the newest patches.</p> <p>With <code>STICKY_PATCH</code> you can go back as far as 60 days.</p> <p>Alternatively, you can set <code>STICKY_PATCH=KEY</code>
This way you can control the date from which patches will be applied using KernelCare keys in CLN.
On update, the actual date will be retrieved from CLN (from Key settings) for the key used to register a particular server (not supported for IP based servers).</p> <p>This is very useful if you want to test patches in QA first and later roll them out to production without doing any changes on the systems.</p> <p>Here is how you can do that:</p> <ul><li>Set <code>STICKY_PATCH=KEY</code> on all your servers.</li> <li>Register QA servers with one KEY, and Production servers with ANOTHER key.</li> <li>Then, stop new updates for Production servers. In CLN set <code>Sticky Tag</code> to <code>yesterday</code>. You can do it by editing KEY in CLN in DDMMYY format.</li> <li>Now, for example, let's use patches as of 03052018 (DDMMYY format). Set them for your QA server key. On the next auto-update, your QA servers will get those patches (auto-updates are typically every 4 hours).</li></ul> <p>Once you are happy with this patches, set the same Sticky Tag for Production servers key. In 4 hours your production servers should be updated to the same patches that QA servers were.</p> <div class="tip custom-block"><p class="custom-block-title">Note</p> <p>You can choose any date within the last 60 days. You cannot choose today's date or date in the future.</p></div></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/cloudlinux/kernelcare-doc/edit/dev/docs/sticky_patches/README.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></div> <div class="back-to-top" data-v-5366e0dd><a href="/sticky_patches/#app" class="nav-arrow top back-to-top__link" data-v-5366e0dd></a></div> </div> <div class="footer" data-v-20b89de8><div data-v-20b89de8><a href="https://cloudlinux.com" data-v-20b89de8><img src="/assets/img/we-are-cloudlinux.783ed390.svg" alt="We are Cloudlinux" data-v-20b89de8></a></div> <div class="footer-company-title" data-v-20b89de8>2019. CloudLinux Inc</div> <div data-v-20b89de8><div data-v-20b89de8><a href="https://www.kernelcare.com/install-kernelcare/" target="_blank" data-v-20b89de8>How to</a></div><div data-v-20b89de8><a href="https://www.kernelcare.com/faq/" target="_blank" data-v-20b89de8>Sales and Technical FAQs</a></div><div data-v-20b89de8><a href="https://cloudlinux.zendesk.com/hc/en-us/requests/new" target="_blank" data-v-20b89de8>Contact support</a></div><div data-v-20b89de8><a href="https://www.kernelcare.com/blog/" target="_blank" data-v-20b89de8>Blog</a></div></div> <div class="social" data-v-20b89de8><span class="footer-social-text" data-v-20b89de8>Stay in touch</span> <a href="https://www.facebook.com/kernelcare/" target="_blank" data-v-20b89de8><img src="/fb.png" class="footer-social-logo" data-v-20b89de8></a><a href="https://twitter.com/kernelcare/" target="_blank" data-v-20b89de8><img src="/tw.png" class="footer-social-logo" data-v-20b89de8></a><a href="https://linkedin.com/company/cloudlinux" target="_blank" data-v-20b89de8><img src="/in.png" class="footer-social-logo" data-v-20b89de8></a><a href="https://www.youtube.com/channel/UCZ3YMHWnMP7TaxlXVay5-aw" target="_blank" data-v-20b89de8><img src="/ytube.png" class="footer-social-logo" data-v-20b89de8></a></div></div> <!----></div></div>
    <script src="/assets/js/app.009af3c2.js" defer></script><script src="/assets/js/21.5f94a383.js" defer></script>
  </body>
</html>
