<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Upgrade | Documentation</title>
    <meta name="description" content="Kernelcare documentation">
    <script src="https://js.hs-scripts.com/5408110.js"></script>
    
    <link rel="preload" href="/assets/css/0.styles.9514ccc3.css" as="style"><link rel="preload" href="/assets/js/app.009af3c2.js" as="script"><link rel="preload" href="/assets/js/24.eeb565fb.js" as="script"><link rel="prefetch" href="/assets/js/10.24cf7065.js"><link rel="prefetch" href="/assets/js/11.d5faae8a.js"><link rel="prefetch" href="/assets/js/12.69be9677.js"><link rel="prefetch" href="/assets/js/13.54717a9b.js"><link rel="prefetch" href="/assets/js/14.6468cf6a.js"><link rel="prefetch" href="/assets/js/15.8905e35a.js"><link rel="prefetch" href="/assets/js/16.67abc2ff.js"><link rel="prefetch" href="/assets/js/17.bcd3c9b6.js"><link rel="prefetch" href="/assets/js/18.9763ca9b.js"><link rel="prefetch" href="/assets/js/19.0720da2f.js"><link rel="prefetch" href="/assets/js/20.8fe627b0.js"><link rel="prefetch" href="/assets/js/21.5f94a383.js"><link rel="prefetch" href="/assets/js/22.ae62e897.js"><link rel="prefetch" href="/assets/js/23.0df71961.js"><link rel="prefetch" href="/assets/js/25.e5510d96.js"><link rel="prefetch" href="/assets/js/26.ecbe68a7.js"><link rel="prefetch" href="/assets/js/3.d7be1533.js"><link rel="prefetch" href="/assets/js/4.c0809d99.js"><link rel="prefetch" href="/assets/js/5.e3ede4c9.js"><link rel="prefetch" href="/assets/js/6.59dee7a8.js"><link rel="prefetch" href="/assets/js/7.ebb91d29.js"><link rel="prefetch" href="/assets/js/8.6ddf8038.js"><link rel="prefetch" href="/assets/js/9.3ac787c1.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.ddfd2311.js">
    <link rel="stylesheet" href="/assets/css/0.styles.9514ccc3.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.svg" alt="Documentation" class="logo"> <span class="site-name site-name--documentation can-hide">Documentation</span></a> <form id="search-form" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <div class="links" style="max-width:nullpx;"><a href="https://cloudlinux.com/kernelcare-free-trial5" target="_blank" class="btn">
      Try Free
    </a> <nav class="nav-links can-hide"></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><div class="sidebar-heading open"><span>Content</span> <!----></div> <ul class="sidebar-group-items"><li><a href="/installation/" class="sidebar-link">Installation of KernelCare</a></li><li><a href="/settings/" class="sidebar-link">Basic Management</a></li><li><a href="/command_line/" class="sidebar-link">Command Line Tools</a></li><li><a href="/how_to's/" class="sidebar-link">How-To's</a></li><li><a href="/config_options/" class="sidebar-link">Config Options</a></li><li><a href="/disabling_some_patches/" class="sidebar-link">Disabling Some Patches</a></li><li><a href="/delayed_feed/" class="sidebar-link">Delayed Feed</a></li><li><a href="/extra_patchset/" class="sidebar-link">Extra Patchset</a></li><li><a href="/sticky_patches/" class="sidebar-link">Sticky Patches</a></li><li><a href="/nagios_plugin/" class="sidebar-link">Nagios Plugin</a></li><li><a href="/zabbix_template/" class="sidebar-link">Zabbix Template</a></li><li><a href="/upgrade/" class="active sidebar-link">Upgrade</a></li><li><a href="/uninstall/" class="sidebar-link">Uninstall KernelCare</a></li><li><a href="/technology/" class="sidebar-link">Technology</a></li><li><a href="/AWS_deployment_guide/" class="sidebar-link">KernelCare on AWS – Deployment User Guide</a></li><li><a href="/reseller_partner_ui/" class="sidebar-link">Reseller Partner UI</a></li><li><a href="/kernelcare_enterprise/" class="sidebar-link">KernelCare.ePortal</a></li><li><a href="/kcare-nexpose/" class="sidebar-link">Kcare-nexpose</a></li><li><a href="/kernelcare_whmcs_plugin/" class="sidebar-link">KernelCare WHMCS Plugin</a></li><li><a href="/proxy_settings/" class="sidebar-link">Firewall and Proxy Settings</a></li><li><a href="/eol_ubuntu_lts_kernels_support/" class="sidebar-link">EOL Ubuntu LTS kernels support</a></li></ul></div></li></ul> </div> <div class="page"> <div class="breadcrumb-wrapper page-breadcrumb" data-v-5e0e0acf><span class="breadcrumb-title" data-v-5e0e0acf>Documentation:</span> <a href="/upgrade/" class="breadcrumb router-link-exact-active router-link-active" data-v-5e0e0acf>
    Upgrade
  </a></div> <div class="page-nav-wrapper"><div class="page-nav"><a href="/zabbix_template/" class="nav-arrow left"></a> <a href="/uninstall/" class="nav-arrow right"></a></div></div> <div class="content"><h1 id="upgrade"><a href="#upgrade" aria-hidden="true" class="header-anchor">#</a> Upgrade</h1> <div class="tip custom-block"><p class="custom-block-title">Note</p> <p>How to upgrade from a ‘free patchset’ to a fully functional, paid KernelCare license</p></div> <p>If you installed our complementary Symlink Protection patchset and now would like to take advantage of the comprehensive kernel security updates without reboots that <a href="https://www.kernelcare.com/" target="_blank" rel="noopener noreferrer">KernelCare<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> delivers, below describes how to do it.</p> <p>Review our pricing page and purchase a license key <a href="https://www.kernelcare.com/pricing/" target="_blank" rel="noopener noreferrer">here<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. If you already have a CLN account, you can purchase a plan by logging into <a href="https://cln.cloudlinux.com/console/auth/login" target="_blank" rel="noopener noreferrer">CLN<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <p>If you are using an IP-based license, nothing else is required and you are all set.</p> <p>If you are using a key-based license, run:</p> <div class="language- extra-class"><pre class="language-text"><code>$ /usr/bin/kcarectl --register KEY
</code></pre></div><p>To check if patches were applied, run:</p> <div class="language- extra-class"><pre class="language-text"><code>$ /usr/bin/kcarectl --info
</code></pre></div><p>The software will automatically check for new patches every 4 hours, but if you would like to perform an update manually, run:</p> <div class="language- extra-class"><pre class="language-text"><code>$ /usr/bin/kcarectl --update
</code></pre></div><div class="tip custom-block"><p class="custom-block-title">Note</p> <p><em>Free</em> patches are changed to <em>default</em> now. If you still need symlink protection, you would need to apply <em>extra</em> patches - they include symlink protection plus the security fixes for CentOS 6 and CentOS 7 (there are no extra charges for extra patches.</p></div> <p>To enable extra patches and apply patch, run:</p> <div class="language- extra-class"><pre class="language-text"><code>kcarectl --set-patch-type extra --update
</code></pre></div><p>To enable extra patches without update, run:</p> <div class="language- extra-class"><pre class="language-text"><code>kcarectl --set-patch-type extra
</code></pre></div><p>The <em>extra</em> patch will be applied on the next automatic update.</p> <p>To see details, run:</p> <div class="language- extra-class"><pre class="language-text"><code>kcarectl --patch-info
</code></pre></div><p>You should see something similar to:</p> <div class="language- extra-class"><pre class="language-text"><code>OS: centos6
kernel: kernel-2.6.32-696.6.3.el6
time: 2017-07-31 22:46:22
uname: 2.6.32-696.6.3.el6
 
kpatch-name: 2.6.32/symlink-protection.patch
kpatch-description: symlink protection // If you see this patch, it means that you can enable symlink protection.
kpatch-kernel: kernel-2.6.32-279.2.1.el6
kpatch-cve: N/A
kpatch-cvss: N/A
kpatch-cve-url: N/A
kpatch-patch-url: https://gerrit.cloudlinux.com/#/c/16508/
 
kpatch-name: 2.6.32/symlink-protection.kpatch-1.patch
kpatch-description: symlink protection (kpatch adaptation)
kpatch-kernel: kernel-2.6.32-279.2.1.el6
kpatch-cve: N/A
kpatch-cvss: N/A
kpatch-cve-url: N/A
kpatch-patch-url: https://gerrit.cloudlinux.com/#/c/16508/
 
kpatch-name: 2.6.32/ipset-fix-list-shrinking.patch
kpatch-description: fix ipset list shrinking for no reason
kpatch-kernel: N/A
kpatch-cve: N/A
kpatch-cvss:N/A
kpatch-cve-url: N/A
kpatch-patch-url: https://bugs.centos.org/view.php?id=13499
</code></pre></div><p>To enable Symlink Owner Match Protection, add the following line:</p> <div class="language- extra-class"><pre class="language-text"><code>Fs.enforce_symlinksifowner =1
</code></pre></div><p>Into <code>/etc/sysconfig/kcare/sysctl.conf</code>. And run:</p> <div class="language- extra-class"><pre class="language-text"><code>sysctl -w fs.enforce_symlinksifowner=1
</code></pre></div><p>See <a href="http://docs.cloudlinux.com/index.html?symlink_owner_match_protection.html" target="_blank" rel="noopener noreferrer">http://docs.cloudlinux.com/index.html?symlink_owner_match_protection.html<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> for details.</p> <p>More information can be found here: <a href="http://www.kernelcare.com/faq.php" target="_blank" rel="noopener noreferrer">http://www.kernelcare.com/faq.php<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/cloudlinux/kernelcare-doc/edit/dev/docs/upgrade/README.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></div> <div class="back-to-top" data-v-5366e0dd><a href="/upgrade/#app" class="nav-arrow top back-to-top__link" data-v-5366e0dd></a></div> </div> <div class="footer" data-v-20b89de8><div data-v-20b89de8><a href="https://cloudlinux.com" data-v-20b89de8><img src="/assets/img/we-are-cloudlinux.783ed390.svg" alt="We are Cloudlinux" data-v-20b89de8></a></div> <div class="footer-company-title" data-v-20b89de8>2019. CloudLinux Inc</div> <div data-v-20b89de8><div data-v-20b89de8><a href="https://www.kernelcare.com/install-kernelcare/" target="_blank" data-v-20b89de8>How to</a></div><div data-v-20b89de8><a href="https://www.kernelcare.com/faq/" target="_blank" data-v-20b89de8>Sales and Technical FAQs</a></div><div data-v-20b89de8><a href="https://cloudlinux.zendesk.com/hc/en-us/requests/new" target="_blank" data-v-20b89de8>Contact support</a></div><div data-v-20b89de8><a href="https://www.kernelcare.com/blog/" target="_blank" data-v-20b89de8>Blog</a></div></div> <div class="social" data-v-20b89de8><span class="footer-social-text" data-v-20b89de8>Stay in touch</span> <a href="https://www.facebook.com/kernelcare/" target="_blank" data-v-20b89de8><img src="/fb.png" class="footer-social-logo" data-v-20b89de8></a><a href="https://twitter.com/kernelcare/" target="_blank" data-v-20b89de8><img src="/tw.png" class="footer-social-logo" data-v-20b89de8></a><a href="https://linkedin.com/company/cloudlinux" target="_blank" data-v-20b89de8><img src="/in.png" class="footer-social-logo" data-v-20b89de8></a><a href="https://www.youtube.com/channel/UCZ3YMHWnMP7TaxlXVay5-aw" target="_blank" data-v-20b89de8><img src="/ytube.png" class="footer-social-logo" data-v-20b89de8></a></div></div> <!----></div></div>
    <script src="/assets/js/app.009af3c2.js" defer></script><script src="/assets/js/24.eeb565fb.js" defer></script>
  </body>
</html>
